"use strict";(self.webpackChunkpine_docs=self.webpackChunkpine_docs||[]).push([[5575],{1146:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>c});var i=t(4848),r=t(8453);const s={sidebar_position:2},o="Helmet",a={id:"Middlewares/helmet",title:"Helmet",description:"The concept of the Helmet middleware is borrowed from the Helmet library. It is used to secure your server by setting various HTTP headers.",source:"@site/docs/Middlewares/helmet.md",sourceDirName:"Middlewares",slug:"/Middlewares/helmet",permalink:"/docs/Middlewares/helmet",draft:!1,unlisted:!1,editUrl:"https://github.com/BryanMwangi/pine-docs/blob/main/docs/Middlewares/helmet.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"CORS",permalink:"/docs/Middlewares/cors"},next:{title:"Rate Limiting",permalink:"/docs/Middlewares/rate_limit"}},l={},c=[{value:"Usage",id:"usage",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Properties",id:"properties",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"helmet",children:"Helmet"})}),"\n",(0,i.jsxs)(n.p,{children:["The concept of the Helmet middleware is borrowed from the ",(0,i.jsx)(n.a,{href:"https://helmetjs.github.io/",children:"Helmet"})," library. It is used to secure your server by setting various HTTP headers."]}),"\n",(0,i.jsx)(n.p,{children:"Pine's implementation could still use some improvements and more on that will be updated in the next few weeks."}),"\n",(0,i.jsx)(n.p,{children:"Nonetheless, the concept is simple and effective. The aim of this middleware is to set various HTTP headers to enhance the security of your server to prevent common attacks."}),"\n",(0,i.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'import (\n  "github.com/BryanMwangi/pine"\n  "github.com/BryanMwangi/pine/helmet"\n  )\n\napp := pine.New()\n\napp.Use(helmet.New())\n'})}),"\n",(0,i.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,i.jsx)(n.p,{children:"The Config struct for helmet has the following properties:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'type Config struct {\n  // XSSProtection\n  // Optional. Default value "0".\n  XSSProtection string\n\n  // ContentTypeNosniff\n  // Optional. Default value "nosniff".\n  ContentTypeNosniff string\n\n  // XFrameOptions\n  // Optional. Default value "SAMEORIGIN".\n  // Possible values: "SAMEORIGIN", "DENY", "ALLOW-FROM uri"\n  XFrameOptions string\n\n  // HSTSMaxAge\n  // Optional. Default value 0.\n  HSTSMaxAge int\n\n  // HSTSExcludeSubdomains\n  // Optional. Default value false.\n  HSTSIncludeSubdomains bool\n\n  // ContentSecurityPolicy\n  // Optional. Default value "".\n  ContentSecurityPolicy string\n\n  // CSPReportOnly\n  // Optional. Default value false.\n  CSPReportOnly bool\n\n  // ReferrerPolicy\n  // Optional. Default value "ReferrerPolicy".\n  ReferrerPolicy string\n\n  // Cross-Origin-Embedder-Policy\n  // Optional. Default value "require-corp".\n  CrossOriginEmbedderPolicy string\n\n  // Cross-Origin-Opener-Policy\n  // Optional. Default value "same-origin".\n  CrossOriginOpenerPolicy string\n\n  // Cross-Origin-Resource-Policy\n  // Optional. Default value "same-origin".\n  CrossOriginResourcePolicy string\n\n  // Origin-Agent-Cluster\n  // Optional. Default value "?1".\n  OriginAgentCluster string\n\n  // X-DNS-Prefetch-Control\n  // Optional. Default value "off".\n  XDNSPrefetchControl string\n\n  // X-Download-Options\n  // Optional. Default value "noopen".\n  XDownloadOptions string\n\n  // X-Permitted-Cross-Domain-Policies\n  // Optional. Default value "none".\n  XPermittedCrossDomain string\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"Here are the default values when setting up a new instance of helmet:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'  cfg := Config{\n    XSSProtection:             "0",\n    ContentTypeNosniff:        "nosniff",\n    XFrameOptions:             "SAMEORIGIN",\n    HSTSMaxAge:                0,\n    HSTSIncludeSubdomains:     false,\n    ContentSecurityPolicy:     "",\n    ReferrerPolicy:            "ReferrerPolicy",\n    CrossOriginEmbedderPolicy: "require-corp",\n    CrossOriginOpenerPolicy:   "same-origin",\n    CrossOriginResourcePolicy: "same-origin",\n    OriginAgentCluster:        "?1",\n    XDNSPrefetchControl:       "off",\n    XDownloadOptions:          "noopen",\n    XPermittedCrossDomain:     "none",\n  }\n'})}),"\n",(0,i.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,i.jsx)(n.p,{children:"Helmet adds the following headers to the response:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Header"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"X-XSS-Protection"}),(0,i.jsx)(n.td,{children:"Enables the browser's built-in protection against reflected XSS (cross-site scripting) attacks by preventing the browser from executing potentially malicious scripts."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"X-Content-Type-Options"}),(0,i.jsx)(n.td,{children:"Prevents MIME type sniffing attacks by instructing browsers to honor the server-specified Content-Type header, mitigating attacks that attempt to load files as a different type."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"X-Frame-Options"}),(0,i.jsx)(n.td,{children:"Helps prevent clickjacking attacks by controlling whether a page can be embedded in an iframe, typically blocking or restricting it to the same origin."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Strict-Transport-Security"}),(0,i.jsx)(n.td,{children:"Ensures that all future requests to your site are made over HTTPS, preventing man-in-the-middle attacks by enforcing secure connections."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Content-Security-Policy"}),(0,i.jsx)(n.td,{children:"Protects against a range of attacks, such as cross-site scripting (XSS) and data injection, by specifying which content sources are considered trustworthy."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Cross-Origin-Embedder-Policy"}),(0,i.jsxs)(n.td,{children:["Prevents loading resources from other origins that do not explicitly grant permission, thereby protecting against cross-origin attacks like ",(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Spectre_(security_vulnerability)",children:"Spectre"}),"."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Cross-Origin-Opener-Policy"}),(0,i.jsx)(n.td,{children:"Isolates browsing contexts by controlling whether a page can interact with pages from other origins, protecting against side-channel attacks like Spectre."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Cross-Origin-Resource-Policy"}),(0,i.jsxs)(n.td,{children:["Restricts which origins can load resources, preventing cross-origin data leaks and attacks such as ",(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Spectre_(security_vulnerability)",children:"Spectre"}),"."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"X-Permitted-Cross-Domain-Policies"}),(0,i.jsx)(n.td,{children:"Preventing data leakage through cross-domain requests."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"X-DNS-Prefetch-Control"}),(0,i.jsx)(n.td,{children:"Controls whether browsers can prefetch DNS records, which can help mitigate privacy risks and performance issues associated with DNS prefetching."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"X-Download-Options"}),(0,i.jsx)(n.td,{children:"Disable automatic execution of downloaded files, reducing exposure to malicious files."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Origin-Agent-Cluster"}),(0,i.jsx)(n.td,{children:"Helps mitigate side-channel attacks by isolating origins in separate agent clusters, preventing them from sharing certain resources like memory."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Referrer-Policy"}),(0,i.jsx)(n.td,{children:"Controls the amount of referrer information sent along with requests, helping to prevent information leakage by specifying what data is passed to external sites."})]})]})]}),"\n",(0,i.jsx)(n.p,{children:"I will continue to do more research on ways I can improve Pine's security and I welcome any suggestions or corrections anyone may have to offer."})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var i=t(6540);const r={},s=i.createContext(r);function o(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);